{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/Article.tsx","components/lazyPage/ArticlePage.tsx"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","Article","props","markdown","style","useState","article","setArticle","componentIsMounted","useRef","width","useWindowSize","delay","useDelayRender","defaultArticleStyle","css","textTheme","paddingLeft","paddingTop","fontSize","marginBottom","overflow","useEffect","current","fn","a","content","console","self","this","args","arguments","apply","err","undefined","fetchArticle","c","className","Content","wordBreak","dangerouslySetInnerHTML","__html","color","fontWeight","SourceList","sources","header","source","Container","fluid","map","s","idx","Row","text","link","ogColor","onHoverColor","element","row","ArticlePage","id","useParams","allDB","get","Number","parseInt"],"mappings":"qLAAA,SAASA,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,G,mFCGhC,SAASS,EAAQC,GAIpB,IACMC,EAAoBD,EAApBC,SAAUC,EAAUF,EAAVE,MADjB,EAE6BC,mBAAiB,IAF9C,mBAEMC,EAFN,KAEeC,EAFf,KAGKC,EAAqBC,kBAAO,GAC1BC,EAAUC,cAAVD,MACFE,EAAQC,YAAe,IACvBC,EAAsBC,cAAIC,IAAW,CACzCC,YAAaP,EAhBE,KAgBmB,OAAS,OAC3CQ,WAAYR,EAjBG,KAiBkB,OAAS,MAC1CS,SAAUT,EAlBK,KAkBgB,MAAQ,QACvCU,aAAc,QACdC,SAAU,WAIZC,qBAAU,WACR,OAAO,WACLd,EAAmBe,SAAU,KAE9B,IAEHD,qBAAU,YACU,eDzBoBE,ECyBpB,GDzBoBA,ECyBpB,UAAG,8BAAAC,EAAA,sFAGItB,QAHJ,IAGIA,OAHJ,EAGIA,EAAUuB,QAHd,oJAG0B,gBAH1B,QAGX9B,EAHW,KAIbY,EAAmBe,SACrBhB,EAAWX,GALI,kDAQjB+B,QAAQ9B,MAAR,MARiB,yDDxBhB,WACL,IAAI+B,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIhC,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMoC,EAAGQ,MAAMJ,EAAME,GAEzB,SAASvC,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOyC,GACd9C,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASyC,GAGnE1C,OAAM2C,QCUU,qDAWlBC,KACC,IAEH,IAAIC,EAAI,UACJlC,EAAMmC,YACRD,GAAK,IAAMlC,EAAMmC,WAGnB,IAAMC,EAAU,kBACd,6BACE,wBAASvB,cAAI,CACXL,MAAO,MACP6B,UAAW,aACXnB,aAAc,UAEd,yBACEiB,UAAWD,EAAGI,wBAAyB,CAAEC,OAAQnC,MAErD,6BACA,wBAAIF,MACF,CACEsC,MAAO,QACPC,WAAY,WAHhB,UAKA,kBAACC,EAAD,CAAYC,QAAO,OAAE1C,QAAF,IAAEA,OAAF,EAAEA,EAAU2C,OAAOC,WAI1C,OACE,kBAACC,EAAA,EAAD,eAAWC,MAAM,KAAKZ,UAAU,aAAhC,OAAgDjC,QAAhD,IAAgDA,IAASU,GAErDF,EAAQ,kBAAC0B,EAAD,MAAc,+BAM9B,SAASM,EAAW1C,GAAqC,IAC/C2C,EAAY3C,EAAZ2C,QAiBR,OACE,kBAACG,EAAA,EAAD,YAEIH,QAFJ,IAEIA,OAFJ,EAEIA,EAASK,KAAI,SAACC,EAAGC,GAAJ,OAnBP,SAACL,EAAgBK,GAC3B,OACE,kBAACC,EAAA,EAAD,CAAK5D,IAAK2D,GACR,kBAAC,IAAD,CAAWE,KAAMP,EACfQ,KAAMR,EACNS,QAAS,QACTC,aAAc,aACdC,QAAS,SAACP,GAAD,OACP,0BAAMd,UAAU,eACbc,OAUkBQ,CAAIR,EAAGC,S,iCC9GxC,2FAKe,SAASQ,IAAe,IAC9BC,EAAMC,cAAND,GACD1D,EAAW4D,IAAMC,IAAIC,OAAOC,SAASL,IAC3C,OAAQ,kBAAC,IAAD,CAAS1D,SAAUA","file":"static/js/4.20858738.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React, { useEffect, useState, useRef } from 'react';\nimport { Container, Row } from 'react-bootstrap';\nimport { StyleAttribute, css } from 'glamor';\nimport { Markdown } from '../state/markdowns';\nimport { textTheme } from '../styles/styleElements';\nimport { HoverLink, toNormalP } from './Misc';\nimport { useWindowSize, useDelayRender } from '../state/hooks';\nimport '../styles/Article.css';\n\n// switch to mobile layout\nconst breakpoint = 1025;\n\n// article compoenent. It insert parsed markown JSX element\n// into card container.\n// the style can be controlled by style parameter.\nexport function Article(props: {\n  markdown?: Markdown,\n  className?: string,\n  style?: StyleAttribute,\n}) {\n  const { markdown, style } = props;\n  const [article, setArticle] = useState<string>(\"\");\n  const componentIsMounted = useRef(true);\n  const { width } = useWindowSize();\n  const delay = useDelayRender(0.1);\n  const defaultArticleStyle = css(textTheme, {\n    paddingLeft: width > breakpoint ? \"35px\" : \"20px\",\n    paddingTop: width > breakpoint ? \"30px\" : \"0px\",\n    fontSize: width > breakpoint ? \"1em\" : \"0.7em\",\n    marginBottom: \"100px\",\n    overflow: \"hidden\",\n  });\n\n  // avoid asyc complete after component is unmounted.\n  useEffect(() => {\n    return () => {\n      componentIsMounted.current = false;\n    }\n  }, []);\n\n  useEffect(() => {\n    const fetchArticle = async () => {\n      try {\n        // console.log(markdown?.content);\n        const value = (await markdown?.content) ?? \"Oppsy Doopsy!\";\n        if (componentIsMounted.current) {\n          setArticle(value);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    fetchArticle();\n  }, []);\n\n  let c = \"Article\";\n  if (props.className) {\n    c += \" \" + props.className;\n  }\n\n  const Content = () => (\n    <div>\n      <div {...css({\n        width: \"90%\",\n        wordBreak: \"break-word\",\n        marginBottom: \"100px\"\n      })}>\n        <div\n          className={c} dangerouslySetInnerHTML={{ __html: article }} />\n      </div>\n      <hr />\n      <h3 style={\n        {\n          color: \"black\",\n          fontWeight: \"bolder\"\n        }}>Source</h3>\n      <SourceList sources={markdown?.header.source} />\n    </div>\n  );\n\n  return (\n    <Container fluid=\"lg\" className=\"page-body\" {...style ?? defaultArticleStyle} >\n      {\n        delay ? <Content /> : <div />\n      }\n    </Container>\n  );\n}\n\nfunction SourceList(props: { sources?: Array<string> }) {\n  const { sources } = props;\n  const row = (source: string, idx: number) => {\n    return (\n      <Row key={idx}>\n        <HoverLink text={source}\n          link={source}\n          ogColor={\"black\"}\n          onHoverColor={\"LightCoral\"}\n          element={(s: string) => (\n            <span className=\"source-list\" >\n              {s}\n            </span>)\n          }\n        />\n      </Row>\n    )\n  };\n  return (\n    <Container>\n      {\n        sources?.map((s, idx) => row(s, idx))\n      }\n    </Container>\n  )\n}\n","import React from 'react';\nimport {Article} from '../Article';\nimport {allDB} from '../../state/markdowns';\nimport {useParams} from 'react-router-dom';\n\nexport default function ArticlePage() {\n  const {id} = useParams();\n  const markdown = allDB.get(Number.parseInt(id as string));\n  return (<Article markdown={markdown} />);\n}\n"],"sourceRoot":""}