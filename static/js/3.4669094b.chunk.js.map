{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/Article.tsx","components/lazyPage/ArticlePage.tsx"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","Article","props","markdown","style","useState","article","setArticle","componentIsMounted","useRef","width","useWindowSize","defaultArticleStyle","css","textTheme","paddingLeft","paddingTop","fontSize","marginBottom","overflow","useEffect","current","fn","a","console","log","content","self","this","args","arguments","apply","err","undefined","fetchArticle","Container","wordBreak","className","dangerouslySetInnerHTML","__html","color","fontWeight","SourceList","sources","header","source","map","s","idx","Row","text","link","ogColor","onHoverColor","row","ArticlePage","id","useParams","allDB","get","Number","parseInt"],"mappings":"kNAAA,SAASA,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,G,mECAhC,SAASS,EAAQC,GAGpB,IACKC,EAAmBD,EAAnBC,SAAUC,EAASF,EAATE,MADhB,EAE6BC,mBAAiB,IAF9C,mBAEMC,EAFN,KAEeC,EAFf,KAGKC,EAAqBC,kBAAO,GAC3BC,EAASC,cAATD,MACDE,EAAsBC,cAAIC,IAAW,CACzCC,YAAaL,EAAQ,IAAO,OAAS,OACrCM,WAAYN,EAAQ,IAAO,OAAS,MACpCO,SAAUP,EAAQ,IAAO,MAAQ,QACjCQ,aAAc,QACdC,SAAU,WA0BZ,OArBAC,qBAAU,WACR,OAAO,WACLZ,EAAmBa,SAAU,KAE9B,IAEHD,qBAAU,YACU,eDrBoBE,ECqBpB,GDrBoBA,ECqBpB,UAAG,8BAAAC,EAAA,sEAEjBC,QAAQC,IAAR,OAAYtB,QAAZ,IAAYA,OAAZ,EAAYA,EAAUuB,SAFL,gBAGIvB,QAHJ,IAGIA,OAHJ,EAGIA,EAAUuB,QAHd,oJAG0B,gBAH1B,QAGX9B,EAHW,KAIbY,EAAmBa,SACrBd,EAAWX,GALI,kDAQjB4B,QAAQ3B,MAAR,MARiB,yDDpBhB,WACL,IAAI8B,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAI/B,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMkC,EAAGS,MAAMJ,EAAME,GAEzB,SAAStC,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOwC,GACd7C,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASwC,GAGnEzC,OAAM0C,QCMU,qDAWlBC,KACC,IAGD,kBAACC,EAAA,EAAD,OAAe/B,QAAf,IAAeA,IAASQ,EACtB,wBAASC,cAAI,CACXH,MAAO,MACP0B,UAAW,aACXlB,aAAc,UAEd,yBAAKmB,UAAU,UAAUC,wBAAyB,CAACC,OAAQjC,MAE7D,6BACA,wBAAIF,MAAO,CAACoC,MAAO,UAAWC,WAAY,WAA1C,UACA,kBAACC,EAAD,CAAYC,QAAO,OAAExC,QAAF,IAAEA,OAAF,EAAEA,EAAUyC,OAAOC,UAK5C,SAASH,EAAWxC,GAAmC,IAC9CyC,EAAWzC,EAAXyC,QAWP,OACE,kBAACR,EAAA,EAAD,YAEIQ,QAFJ,IAEIA,OAFJ,EAEIA,EAASG,KAAI,SAACC,EAAGC,GAAJ,OAbP,SAACH,EAAgBG,GAC3B,OACE,kBAACC,EAAA,EAAD,CAAKxD,IAAKuD,GACR,kBAAC,IAAD,CAAWE,KAAML,EACfM,KAAMN,EACNO,QAAS,UACTC,aAAc,gBAOSC,CAAIP,EAAGC,O,mBC7EzB,SAASO,IAAe,IAC9BC,EAAMC,cAAND,GACDrD,EAAWuD,IAAMC,IAAIC,OAAOC,SAASL,IAC3C,OAAQ,kBAAC,EAAD,CAASrD,SAAUA","file":"static/js/3.4669094b.chunk.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React, {useEffect, useState, useRef} from 'react';\nimport {Container, Row} from 'react-bootstrap';\nimport {StyleAttribute, css} from 'glamor';\nimport {Markdown} from '../state/markdowns';\nimport {textTheme} from '../styles/styleElements';\nimport {HoverLink} from './Misc';\nimport {useWindowSize} from '../state/hooks';\nimport '../styles/Article.css';\n\n// article compoenent. It insert parsed markown JSX element\n// into card container.\n// the style can be controlled by style parameter.\nexport function Article(props: {\n  markdown?: Markdown,\n  style?: StyleAttribute,\n}) {\n  const {markdown, style} = props;\n  const [article, setArticle] = useState<string>(\"\");\n  const componentIsMounted = useRef(true);\n  const {width} = useWindowSize();\n  const defaultArticleStyle = css(textTheme, {\n    paddingLeft: width > 1000 ? \"60px\" : \"20px\",\n    paddingTop: width > 1000 ? \"30px\" : \"0px\",\n    fontSize: width > 1000 ? \"1em\" : \"0.7em\",\n    marginBottom: \"100px\",\n    overflow: \"hidden\",\n  });\n\n\n  // avoid asyc complete after component is unmounted.\n  useEffect(() => {\n    return () => {\n      componentIsMounted.current = false;\n    }\n  }, []);\n\n  useEffect(() => {\n    const fetchArticle = async () => {\n      try {\n        console.log(markdown?.content);\n        const value = (await markdown?.content) ?? \"Oppsy Doopsy!\";\n        if (componentIsMounted.current) {\n          setArticle(value);\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    fetchArticle();\n  }, []);\n\n  return (\n    <Container {...style ?? defaultArticleStyle} >\n      <div {...css({\n        width: \"90%\",\n        wordBreak: \"break-word\",\n        marginBottom: \"100px\"\n      })}>\n        <div className=\"Article\" dangerouslySetInnerHTML={{__html: article}} />\n      </div>\n      <hr />\n      <h1 style={{color: \"DimGray\", fontWeight: \"bolder\"}}>Source</h1>\n      <SourceList sources={markdown?.header.source} />\n    </Container>\n  );\n}\n\nfunction SourceList(props: {sources?: Array<string>}) {\n  const {sources} = props;\n  const row = (source: string, idx: number) => {\n    return (\n      <Row key={idx}>\n        <HoverLink text={source}\n          link={source}\n          ogColor={\"DimGray\"}\n          onHoverColor={\"LightCoral\"} />\n      </Row>\n    )\n  };\n  return (\n    <Container>\n      {\n        sources?.map((s, idx) => row(s, idx))\n      }\n    </Container>\n  )\n}\n","import React from 'react';\nimport {Article} from '../Article';\nimport {allDB} from '../../state/markdowns';\nimport {useParams} from 'react-router-dom';\n\nexport default function ArticlePage() {\n  const {id} = useParams();\n  const markdown = allDB.get(Number.parseInt(id as string));\n  return (<Article markdown={markdown} />);\n}\n\n\n"],"sourceRoot":""}